# --- ã“ã“ã‹ã‚‰æ¥ç¶šãƒ†ã‚¹ãƒˆç”¨ã®è¿½è¨˜ ---
st.divider() # åŒºåˆ‡ã‚Šç·š
st.subheader("ğŸ›  ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãƒã‚§ãƒƒã‚¯")

try:
    # Secretsã‚’ä½¿ã£ã¦æ¥ç¶š
    conn = st.connection("supabase", type=SupabaseConnection)
    # todosãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰1ä»¶ã ã‘è©¦ã—ã«å–ã£ã¦ãã‚‹
    test_res = conn.table("todos").select("*").limit(1).execute()
    st.success("âœ… Supabaseã¨ç¹‹ãŒã£ã¦ã„ã¾ã™ï¼")
    st.write("å–å¾—ãƒ†ã‚¹ãƒˆçµæœ:", test_res.data)
except Exception as e:
    st.error("âŒ ã¾ã Supabaseã¨ç¹‹ãŒã£ã¦ã„ãªã„ã‚ˆã†ã§ã™ã€‚")
    st.info("ã‚¨ãƒ©ãƒ¼è©³ç´°ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š")
    st.code(e)
# --- ã“ã“ã¾ã§ ---
